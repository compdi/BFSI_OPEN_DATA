# Generating the updated index.html with mobile spacing fixes and a tight footer
from datetime import datetime

index_html = f"""<!DOCTYPE html>
<html>
<head>
  <title>BFSI Open Data</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Data essays, dashboards, and storytelling from the Indian BFSI world. Built by experts, designed for the underserved.">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6DWB0Q3MJB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){{dataLayer.push(arguments);}}
    gtag('js', new Date());
    gtag('config', 'G-6DWB0Q3MJB');
  </script>

  <style>
    :root {{
      --bg-color: #ffffff;
      --text-color: #2c3e50;
    }}

    html {{
      scroll-behavior: smooth;
    }}

    body.dark-theme {{
      --bg-color: #121212;
      --text-color: #ffffff;
    }}

    body {{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.7;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }}

    .navbar {{
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      z-index: 2;
    }}

    .navbar img {{
      height: 110px;
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }}

    .navbar-right {{
      display: flex;
      align-items: center;
      gap: 10px;
      margin-right: 20px;
    }}

    .theme-toggle {{
      padding: 6px 12px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
    }}

    body.dark-theme .theme-toggle {{
      background: #333;
      color: #fff;
      border-color: #666;
    }}

    .social-floating {{
      position: fixed;
      bottom: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 999;
    }}

    .social-icon {{
      width: 40px;
      height: 40px;
    }}

    header {{
      background-color: transparent;
      padding: 80px 20px 60px;
      text-align: center;
    }}

    header h1 {{
      font-size: 7em;
      font-weight: bold;
      margin-bottom: 10px;
    }}

    header p {{
      font-size: 1.1em;
      margin: 0 auto;
    }}

    .cta-button {{
      display: inline-block;
      margin-top: 25px;
      padding: 12px 20px;
      background-color: #0077cc;
      color: white;
      font-weight: bold;
      text-decoration: none;
      border-radius: 8px;
      transition: background-color 0.3s;
    }}

    .cta-button:hover {{
      background-color: #005fa3;
    }}

    .content {{
      max-width: 850px;
      margin: 40px auto;
      padding: 0 20px;
    }}

    h2 {{
      color: var(--text-color);
    }}

    a {{
      color: #0077cc;
      text-decoration: none;
    }}

    a:hover {{
      text-decoration: underline;
    }}

    .section {{
      margin-bottom: 30px;
    }}

    iframe {{
      width: 100%;
      height: 700px;
      border: 0;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }}

    .disclaimer {{
      font-size: 12px;
      color: #666;
      margin-top: 10px;
    }}

    footer {{
      text-align: center;
      font-size: 0.8em;
      color: #999;
      padding: 10px 0;
      margin-top: 10px;
    }}

    @media only screen and (max-width: 768px) {{
      header h1 {{
        font-size: 2.8em;
      }}

      header p {{
        font-size: 1em;
        padding: 0 10px;
      }}

      .cta-button {{
        font-size: 0.95em;
        padding: 10px 15px;
        margin-top: 15px;
      }}

      iframe {{
        height: 450px;
        margin-bottom: 10px;
      }}

      .navbar img {{
        height: 80px;
      }}

      .navbar {{
        padding: 6px 12px;
      }}

      .navbar-right {{
        margin-right: 10px;
      }}

      .social-floating {{
        bottom: 15px;
        right: 10px;
      }}

      .social-icon {{
        width: 30px;
        height: 30px;
      }}

      .content {{
        padding: 0 10px;
      }}

      .section {{
        margin-bottom: 15px;
      }}
    }}
  </style>
</head>
<body>
  <div class="navbar">
    <a href="/"><img src="Logo.png" alt="BFSI Open Data Logo"></a>
    <div class="navbar-right">
      <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
    </div>
  </div>

  <div class="social-floating">
    <a href="https://www.linkedin.com/in/compliance-digest%E2%84%A2-6712891a7/" target="_blank"><img class="social-icon" src="https://cdn-icons-png.flaticon.com/512/145/145807.png" alt="LinkedIn"></a>
    <a href="https://www.instagram.com/comp_di/" target="_blank"><img class="social-icon" src="https://cdn-icons-png.flaticon.com/512/174/174855.png" alt="Instagram"></a>
    <a href="https://x.com/compli_d" target="_blank"><img class="social-icon" src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter/X"></a>
  </div>

  <header>
    <h1>BFSI Open Data</h1>
    <p><strong>Insurance & Financial Services Expert | Strategist | Advocate for the Underserved</strong></p>
    <a href="#gi-dashboard" class="cta-button">ðŸ“ˆ Explore General Insurance Dashboard â†’</a>
  </header>

  <div id="main" class="content">
    <div class="section">
      <p><strong>Insurance | Financial data | News | Analysis | Storytelling using Data</strong></p>
    </div>

    <div class="section" id="gi-dashboard">
      <h2>General Insurance Dashboard</h2>
      <p>This dashboard presents an insurer-wise snapshot of gross premium numbers across Motor, Health, and Personal Accident lines. Filter and explore by Year or Insurer.</p>
      <iframe src="https://lookerstudio.google.com/embed/reporting/b311387f-204c-489a-879d-5f8594c5019e/page/RA7LF"
              allowfullscreen sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox">
      </iframe>
      <p class="disclaimer"><strong>Disclaimer:</strong> The information and visuals presented in this dashboard are compiled from publicly available data sources and are intended for general informational purposes only.</p>
    </div>

    <div class="section">
      <h2>Letâ€™s Connect</h2>
      <p>Whether youâ€™re looking to explore collaboration opportunities or just want to chat about data-driven change in financial services, we're just a message away.</p>
      <p>ðŸ“§ <a href="mailto:bfsiopendata@gmail.com">bfsiopendata@gmail.com</a></p>
    </div>
  </div>

  <footer>
    &copy; {datetime.now().year} BFSI Open Data Â· All rights reserved
  </footer>

  <script>
    function toggleTheme() {{
      document.body.classList.toggle('dark-theme');
    }}
  </script>
</body>
</html>
"""

# Saving to a file for user to download
with open("/mnt/data/index_mobile_final.html", "w") as file:
    file.write(index_html)

"/mnt/data/index_mobile_final.html"

